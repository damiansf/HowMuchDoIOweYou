(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"addUser",function(){return D}),a.d(n,"addDebt",function(){return g});var s=a(0),i=a.n(s),l=a(12),r=a.n(l),u=a(2),o=a(3),m=a(5),c=a(4),d=a(6),b=a(1),p=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).state={firstName:"",lastName:"",email:""},e.handleSubmit=e.handleSubmit.bind(Object(b.a)(e)),e.handleFirstName=e.handleFirstName.bind(Object(b.a)(e)),e.handleLastName=e.handleLastName.bind(Object(b.a)(e)),e.handleEmail=e.handleEmail.bind(Object(b.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleSubmit",value:function(e){var t={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email};this.props.emails.includes(this.state.email)?alert("User with same email already exists"):(this.props.addUser(t),alert("User added"))}},{key:"handleFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"render",value:function(){return i.a.createElement("form",null,i.a.createElement("label",null,"FirstName:",i.a.createElement("input",{type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleFirstName})),i.a.createElement("label",null,"LastName:",i.a.createElement("input",{type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleLastName})),i.a.createElement("label",null,"Email:",i.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleEmail})),i.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit}))}}]),t}(i.a.Component),h=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).state={amount:"",notes:"",emailOne:"",emailTwo:"",identifiers:[]},e.handleSubmit=e.handleSubmit.bind(Object(b.a)(e)),e.handleAmount=e.handleAmount.bind(Object(b.a)(e)),e.handleOwnerEmail=e.handleOwnerEmail.bind(Object(b.a)(e)),e.handleSlaveEmail=e.handleSlaveEmail.bind(Object(b.a)(e)),e.handleNotes=e.handleNotes.bind(Object(b.a)(e)),e.getIdentifier=e.getIdentifier.bind(Object(b.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getIdentifier",value:function(e){var t=this.props.users[e];return t.firstName+" "+t.lastName+" ("+e+")"}},{key:"handleAmount",value:function(e){isNaN(e.target.value)||this.setState({amount:e.target.value})}},{key:"handleNotes",value:function(e){this.setState({notes:e.target.value})}},{key:"handleOwnerEmail",value:function(e){this.setState({emailOne:e.target.value})}},{key:"handleSlaveEmail",value:function(e){this.setState({emailTwo:e.target.value})}},{key:"handleSubmit",value:function(e){var t={userOne:this.state.emailOne?this.state.emailOne:this.props.emails[0],userTwo:this.state.emailTwo?this.state.emailTwo:this.props.emails[0],amount:this.state.amount,notes:this.state.notes};this.props.addDebt(t),alert("User Debt added")}},{key:"render",value:function(){var e=this;return i.a.createElement("form",null,i.a.createElement("select",{onChange:this.handleOwnerEmail},this.props.emails.map(function(t,a){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("select",{onChange:this.handleSlaveEmail},this.props.emails.map(function(t,a){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("label",null,"Amount:",i.a.createElement("input",{type:"text",name:"amount",value:this.state.amount,onChange:this.handleAmount})),i.a.createElement("label",null,"Notes:",i.a.createElement("input",{type:"text",name:"notes",value:this.state.notes,onChange:this.handleNotes})),i.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit}))}}]),t}(i.a.Component),O=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).state={data:""},e.loadDebtMap=e.loadDebtMap.bind(Object(b.a)(e)),e.getIdentifier=e.getIdentifier.bind(Object(b.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"loadDebtMap",value:function(e){var t=this,a="";this.props.emails.forEach(function(n){e.target.value.localeCompare(n)<0?t.props.debtList.includes(e.target.value+n)&&(a+=JSON.stringify(t.props.debtMap[e.target.value+n])):t.props.debtList.includes(n+e.target.value)&&(a+=JSON.stringify(t.props.debtMap[n+e.target.value]))}),this.setState({data:a})}},{key:"getIdentifier",value:function(e){var t=this.props.users[e];return t.firstName+" "+t.lastName+" ("+e+")"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("select",{onChange:this.loadDebtMap},i.a.createElement("option",null,"--"),this.props.emails.map(function(t){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("div",null,this.state.data))}}]),t}(i.a.Component),v=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).state={},e.downloadData=e.downloadData.bind(Object(b.a)(e)),e.uploadData=e.uploadData.bind(Object(b.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"downloadData",value:function(){}},{key:"uploadData",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("input",{type:"button",value:"Upload Data",onClick:this.uploadData}),i.a.createElement("input",{type:"button",value:"Download Data",onClick:this.downloadData}))}}]),t}(i.a.Component),f=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("p",null,"How Much Do I Owe You?")),i.a.createElement(p,{addUser:this.props.addUser,emails:this.props.emails}),i.a.createElement(h,{addDebt:this.props.addDebt,emails:this.props.emails,users:this.props.users}),i.a.createElement(O,{emails:this.props.emails,users:this.props.users,debtMap:this.props.debtMap,debtList:this.props.debtList}),i.a.createElement(v,{resetStore:this.props.resetStore}))}}]),t}(i.a.Component),j=a(8),E=a(14),y="ADD_USER",N="ADD_DEBT";function D(e){return{type:y,payload:{firstName:e.firstName,lastName:e.lastName,email:e.email},email:e.email}}function g(e){var t="",a="";return e.userOne.localeCompare(e.userTwo)<0?(t=e.userOne,a=e.userTwo):(t=e.userTwo,a=e.userOne),{type:N,payload:{userIDOne:t,userIDTwo:a,amount:e.amount,notes:e.notes}}}var S=Object(E.b)(function(e){return{emails:e.emails,users:e.users,debtList:e.debtList,debtMap:e.debtMap}},function(e){return Object(j.bindActionCreators)(n,e)})(f),w=a(11),k=a(15),M=a(10);var I=function(e,t){switch(t.type){case y:return Object(M.a)({},e,{emails:[].concat(Object(k.a)(e.emails),[t.email]),users:Object(M.a)({},e.users,Object(w.a)({},t.email,t.payload))});case N:var a=t.payload.userIDOne+t.payload.userIDTwo;return n=e.debtList,s=t.payload.userIDOne,i=t.payload.userIDTwo,n.includes(s+i)?Object(M.a)({},e,{debtMap:Object(M.a)({},e.debtMap,Object(w.a)({},a,{debts:[].concat(Object(k.a)(e.debtMap[a].debts),[t.payload])}))}):Object(M.a)({},e,{debtList:[].concat(Object(k.a)(e.debtList),[a]),debtMap:Object(M.a)({},e.debtMap,Object(w.a)({},a,{debts:[t.payload]}))});default:return e}var n,s,i},C=a(23),L=a(13),T=a.n(L),A={emails:{name:"HMDIOY_EMAILS"},users:{name:"HMDIOY_USERS"},debtMap:{name:"HMDIOY_DEBTMAP"},debtList:{name:"HMDIOY_DEBTLIST"}},U=Object(L.getStateFromCookies)({emails:[],users:{},debtMap:{},debtList:[]},A);U.emails||(U.emails=[]),U.users||(U.users={}),U.debtMap||(U.debtMap={}),U.debtList||(U.debtList=[]);var x=Object(j.createStore)(I,U,Object(C.composeWithDevTools)(Object(j.applyMiddleware)(T()(A))));r.a.render(i.a.createElement(E.a,{store:x},i.a.createElement(S,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.8829132c.chunk.js.map