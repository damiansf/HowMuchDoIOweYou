(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(22),s=a.n(r),u=a(4),i=a(5),o=a(9),c=a(6),m=a(8),d=function(e){var t=e.handleFirstName,a=e.handleLastName,n=e.handleEmail,r=e.addUser,s=e.emails,u=e.firstName,i=e.lastName,o=e.email;return l.a.createElement("form",null,l.a.createElement("label",null,"FirstName:",l.a.createElement("input",{type:"text",name:"firstName",value:u,onChange:function(e){return t(e)}})),l.a.createElement("label",null,"LastName:",l.a.createElement("input",{type:"text",name:"lastName",value:i,onChange:function(e){return a(e)}})),l.a.createElement("label",null,"Email:",l.a.createElement("input",{type:"text",name:"email",value:o,onChange:function(e){return n(e)}})),l.a.createElement("input",{type:"button",value:"Submit",onClick:function(){s.includes(o)?alert("User with same email already exists"):(r({firstName:u,lastName:i,email:o}),alert("User added"))}}))},b="ADD_USER",p="ADD_DEBT",E="CLEAR_DATA",f="DELETE_DEBT",D="DELETE_USER",h="DELETE_DEBT_MAP",O="ADD_DEBT_INSTANCE";function v(e){return{type:b,payload:{firstName:e.firstName,lastName:e.lastName,email:e.email},email:e.email}}function y(e){var t="",a="";return e.ownerEmail.localeCompare(e.slaveEmail)<0?(t=e.ownerEmail,a=e.slaveEmail):(t=e.slaveEmail,a=e.ownerEmail),{type:h,payload:{userIDOne:t,userIDTwo:a}}}function w(e){var t="",a="",n=1;return e.userOne.localeCompare(e.userTwo)<0?(t=e.userOne,a=e.userTwo,n=-1):(t=e.userTwo,a=e.userOne),{type:p,payload:{userIDOne:t,userIDTwo:a,amount:e.amount*n,notes:e.notes}}}var T=a(7),j=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={firstName:"",lastName:"",email:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(d,{email:this.state.email,lastName:this.state.lastName,firstName:this.state.firstName,handleEmail:function(t){return e.setState({email:t.target.value})},handleLastName:function(t){return e.setState({lastName:t.target.value})},handleFirstName:function(t){return e.setState({firstName:t.target.value})},emails:this.props.emails,addUser:this.props.addUser})}}]),t}(l.a.Component),M=Object(T.b)(function(e){return{emails:e.emails}},function(e){return{addUser:function(t){return e(v(t))}}})(j);function C(e,t,a){return e.includes(t+a)}function g(e,t){return l.a.createElement("option",{key:e,value:e},t.firstName+" "+t.lastName+" ("+e+")")}var S=function(e){var t=e.emails,a=e.users,n=e.addDebt,r=e.handleOwnerEmail,s=e.handleSlaveEmail,u=e.handleNotes,i=e.handleAmount,o=e.amount,c=e.notes,m=e.emailOne,d=e.emailTwo;return l.a.createElement("form",null,l.a.createElement("span",null,"owner"),l.a.createElement("select",{onChange:function(e){return r(e)}},l.a.createElement("option",null,"--"),t.map(function(e){return g(e,a[e])})),l.a.createElement("span",null,"slave"),l.a.createElement("select",{onChange:function(e){return s(e)}},l.a.createElement("option",null,"--"),t.map(function(e){return g(e,a[e])})),l.a.createElement("label",null,"Amount:",l.a.createElement("input",{type:"text",name:"amount",value:o,onChange:function(e){return i(e)}})),l.a.createElement("label",null,"Notes:",l.a.createElement("input",{type:"text",name:"notes",value:c,onChange:function(e){return u(e)}})),l.a.createElement("input",{type:"button",value:"Submit",onClick:function(){d?(n({userOne:m||t[0],userTwo:d,amount:o,notes:c}),alert("User Debt added")):alert("Second email either null or the same")}}))},N=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={amount:"",notes:"",emailOne:"",emailTwo:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(S,{emails:this.props.emails,users:this.props.users,notes:this.state.notes,amount:this.state.amount,emailOne:this.state.emailOne,emailTwo:this.state.emailTwo,addDebt:this.props.addDebt,handleOwnerEmail:function(t){return e.setState({emailOne:t.target.value})},handleSlaveEmail:function(t){return e.setState({emailTwo:t.target.value})},handleNotes:function(t){return e.setState({notes:t.target.value})},handleAmount:function(t){isNaN(t.target.value)||e.setState({amount:t.target.value})}})}}]),t}(l.a.Component),L=Object(T.b)(function(e){return{emails:e.emails,users:e.users}},function(e){return{addDebt:function(t){return e(w(t))}}})(N),I=a(14),k=function(e){var t=e.handleOwnerEmail,a=e.handleSlaveEmail,n=e.setTotalDebtMapAmount,r=e.setDebtMapData,s=e.buildDebtMapTable,u=e.emails,i=e.users,o=e.debtMap,c=e.debtList,m=e.ownerEmail,d=e.slaveEmail,b=e.debtMapData,p=e.debtMapTotal,E=e.allDebtsData,f=e.allDebtsTotal,D=e.handleSingleSlaveEmail,h=e.singleSlaveEmail,O=e.buildDebtsTable,v=e.setDebtsData,y=e.setTotalDebtsAmount,w=e.handleSingleOwnerEmail,T=e.setCreditsData,j=e.singleOwnerEmail,M=e.allCreditsTotal,C=e.allCreditsData,S=e.setTotalCreditsAmount,N=e.buildCreditsTable;return l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("span",null,"slave"),l.a.createElement("select",{onChange:function(e){return a(e)}},l.a.createElement("option",null,"--"),u.map(function(e){return g(e,i[e])})),l.a.createElement("span",null,"owner"),l.a.createElement("select",{onChange:function(e){return t(e)}},l.a.createElement("option",null,"--"),u.map(function(e){return g(e,i[e])})),l.a.createElement("input",{type:"button",value:"Submit",onClick:function(){var e=null,t=0;m.localeCompare(d)<0?c.includes(m+d)&&(e=s(o[m+d],-1),t=-1*o[m+d].debts.reduce(function(e,t){return e+t.amount},0),n(t),r(e)):c.includes(d+m)&&(e=s(o[d+m],1),t=o[d+m].debts.reduce(function(e,t){return e+t.amount},0),n(t),r(e))}})),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"User One"),l.a.createElement("th",null,"User Two"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Notes"),l.a.createElement("th",null,"Delete Debt"))),l.a.createElement("tbody",null,b)),l.a.createElement("span",null,p),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement("span",null,"slave"),l.a.createElement("select",{onChange:function(e){return D(e)}},l.a.createElement("option",null,"--"),u.map(function(e){return g(e,i[e])})),l.a.createElement("input",{type:"button",value:"Submit",onClick:function(){var e=[],t=0,a=0;u.forEach(function(n){h.localeCompare(n)<0?c.includes(h+n)&&(a=o[h+n].debts.reduce(function(e,t){return e+t.amount},0),t+=a,e.push(O(n,h,a))):c.includes(n+h)&&(a=-1*o[n+h].debts.reduce(function(e,t){return e+t.amount},0),t+=a,e.push(O(n,h,a)))}),t>0?(y(t),v(e)):(y(0),v([]))}})),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"User One"),l.a.createElement("th",null,"User Two"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Delete Debt"))),l.a.createElement("tbody",null,E)),l.a.createElement("span",null,f),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement("span",null,"owner"),l.a.createElement("select",{onChange:function(e){return w(e)}},l.a.createElement("option",null,"--"),u.map(function(e){return g(e,i[e])})),l.a.createElement("input",{type:"button",value:"Submit",onClick:function(){var e=[],t=0,a=0;u.forEach(function(n){j.localeCompare(n)<0?c.includes(j+n)&&(a=-1*o[j+n].debts.reduce(function(e,t){return e+t.amount},0),t+=a,e.push(N(j,n,a))):c.includes(n+j)&&(a=o[n+j].debts.reduce(function(e,t){return e+t.amount},0),t+=a,e.push(N(j,n,a)))}),t>0?(S(t),T(e)):(S(0),T([]))}})),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"User One"),l.a.createElement("th",null,"User Two"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Delete Debt"))),l.a.createElement("tbody",null,C)),l.a.createElement("span",null,M))},U=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={debtMapData:null,ownerEmail:"",slaveEmail:"",singleSlaveEmail:"",debtMapTotal:0,allDebtsData:null,allDebtsTotal:0,singleOwnerEmail:"",allCreditsTotal:0,allCreditsData:null},e.buildDebtMapTable=e.buildDebtMapTable.bind(Object(I.a)(e)),e.buildDebtsTable=e.buildDebtsTable.bind(Object(I.a)(e)),e.buildCreditsTable=e.buildCreditsTable.bind(Object(I.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"buildDebtsTable",value:function(e,t,a){var n=this;return l.a.createElement("tr",{key:e+t+a},l.a.createElement("td",null,t),l.a.createElement("td",null,e),l.a.createElement("td",null,a),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){n.props.deleteDebtMap({ownerEmail:e,slaveEmail:t})}})))}},{key:"buildCreditsTable",value:function(e,t,a){var n=this;return l.a.createElement("tr",{key:e+t+a},l.a.createElement("td",null,e),l.a.createElement("td",null,t),l.a.createElement("td",null,a),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){n.props.deleteDebtMap({ownerEmail:e,slaveEmail:t})}})))}},{key:"buildDebtMapTable",value:function(e,t){var a=this;return 1===t?e.debts.map(function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",null,t.userIDOne),l.a.createElement("td",null,t.userIDTwo),l.a.createElement("td",null,t.amount),l.a.createElement("td",null,t.notes),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.debts.length<1?a.props.deleteDebtMap({ownerEmail:t.userIDTwo,slaveEmail:t.userIDOne}):a.props.deleteDebt({index:n,ownerEmail:t.userIDTwo,slaveEmail:t.userIDOne})}})))}):e.debts.map(function(n,r){return l.a.createElement("tr",{key:r},l.a.createElement("td",null,n.userIDTwo),l.a.createElement("td",null,n.userIDOne),l.a.createElement("td",null,n.amount*t),l.a.createElement("td",null,n.notes),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.debts.length<1?a.props.deleteDebtMap({ownerEmail:n.userIDTwo,slaveEmail:n.userIDOne}):a.props.deleteDebt({index:r,ownerEmail:n.userIDTwo,slaveEmail:n.userIDOne})}})))})}},{key:"render",value:function(){var e=this;return l.a.createElement(k,{handleOwnerEmail:function(t){return e.setState({ownerEmail:t.target.value})},handleSlaveEmail:function(t){return e.setState({slaveEmail:t.target.value})},handleSingleSlaveEmail:function(t){return e.setState({singleSlaveEmail:t.target.value})},handleSingleOwnerEmail:function(t){return e.setState({singleOwnerEmail:t.target.value})},setTotalDebtMapAmount:function(t){return e.setState({debtMapTotal:t})},setDebtMapData:function(t){return e.setState({debtMapData:t})},setTotalDebtsAmount:function(t){return e.setState({allDebtsTotal:t})},setTotalCreditsAmount:function(t){return e.setState({allCreditsTotal:t})},setDebtsData:function(t){return e.setState({allDebtsData:t})},setCreditsData:function(t){return e.setState({allCreditsData:t})},buildDebtMapTable:this.buildDebtMapTable,buildDebtsTable:this.buildDebtsTable,buildCreditsTable:this.buildCreditsTable,emails:this.props.emails,users:this.props.users,debtMap:this.props.debtMap,debtList:this.props.debtList,ownerEmail:this.state.ownerEmail,slaveEmail:this.state.slaveEmail,debtMapData:this.state.debtMapData,debtMapTotal:this.state.debtMapTotal,allDebtsData:this.state.allDebtsData,allDebtsTotal:this.state.allDebtsTotal,singleSlaveEmail:this.state.singleSlaveEmail,singleOwnerEmail:this.state.singleOwnerEmail,allCreditsTotal:this.state.allCreditsTotal,allCreditsData:this.state.allCreditsData})}}]),t}(l.a.Component),A=Object(T.b)(function(e){return{emails:e.emails,users:e.users,debtMap:e.debtMap,debtList:e.debtList}},function(e){return{deleteDebtMap:function(t){return e(y(t))},deleteDebt:function(t){return e(function(e){var t="",a="";return e.ownerEmail.localeCompare(e.slaveEmail)<0?(t=e.ownerEmail,a=e.slaveEmail):(t=e.slaveEmail,a=e.ownerEmail),{type:f,payload:{userIDOne:t,userIDTwo:a,index:e.index}}}(t))}}})(U),x=function(e){var t=e.users,a=e.emails,n=e.debtList,r=e.deleteUser,s=e.deleteDebtMap,u=e.checkForDebtInstance;return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"First Name"),l.a.createElement("th",null,"Last Name"),l.a.createElement("th",null,"Email"))),l.a.createElement("tbody",null,a.map(function(e){return l.a.createElement("tr",{key:t[e].email},l.a.createElement("td",null,t[e].firstName),l.a.createElement("td",null,t[e].lastName),l.a.createElement("td",null,t[e].email),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){var t,l=null;a.forEach(function(a){e.localeCompare()<0?(t=e,l=a):(t=a,l=e)}),u(n,t,l)&&s({ownerEmail:t,slaveEmail:l}),r({email:e})}})))})))},_=function(e){function t(){return Object(u.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(x,{users:this.props.users,emails:this.props.emails,debtList:this.props.debtList,deleteUser:this.props.deleteUser,deleteDebtMap:this.props.deleteDebtMap,checkForDebtInstance:C})}}]),t}(l.a.Component),F=Object(T.b)(function(e){return{users:e.users,emails:e.emails,debtList:e.debtList}},function(e){return{deleteUser:function(t){return e(function(e){return{type:D,payload:{email:e.email}}}(t))},deleteDebtMap:function(t){return e(y(t))}}})(_),B=function(e){var t=e.clearData,a=e.uploadData,n=e.data;return l.a.createElement("div",null,l.a.createElement("a",{href:n,download:"data.json"},"Download Data"),l.a.createElement("span",null,"Upload Data"),l.a.createElement("input",{type:"file",title:"Upload Data",onChange:function(e){a(e)}}),l.a.createElement("button",{onClick:t},"Clear Data"))},R=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={},e.uploadData=e.uploadData.bind(Object(I.a)(e)),e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"uploadData",value:function(e){var t=this,a=e.target.files[0];if(a.type.includes("json")){var n=new FileReader;n.onload=function(e){try{var a=JSON.parse(e.target.result);a.emails.forEach(function(e){t.props.emails.includes(e)||t.props.addUser({firstName:a.users[e].firstName,lastName:a.users[e].lastName,email:a.users[e].email})}),a.debtList.forEach(function(e){t.props.debtList.includes(e)||t.props.addDebtInstance({debts:a.debtMap[e].debts,key:e})})}catch(n){alert("Error parsing json: "+n)}},n.readAsText(a)}else alert("Invalid file type, only accept json files")}},{key:"render",value:function(){return window.File&&window.FileReader&&window.FileList&&window.Blob?l.a.createElement(B,{clearData:this.props.clearData,uploadData:this.uploadData,data:URL.createObjectURL(new Blob([JSON.stringify({users:this.props.users,emails:this.props.emails,debtList:this.props.debtList,debtMap:this.props.debtMap})],{type:"application/json"}))}):l.a.createElement("span",null,"File API's not available")}}]),t}(l.a.Component),H=Object(T.b)(function(e){return{users:e.users,emails:e.emails,debtList:e.debtList,debtMap:e.debtMap}},function(e){return{clearData:function(){return e({type:E})},addUser:function(t){return e(v(t))},addDebt:function(t){return e(w(t))},addDebtInstance:function(t){return e(function(e){return{type:O,payload:{key:e.key,debts:e.debts}}}(t))}}})(R),Y=a(17),J=a(15),P=function(e){function t(){return Object(u.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("header",null,l.a.createElement("p",null,"How Much Do I Owe You?")),l.a.createElement(Y.a,{basename:"/"},l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(Y.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(Y.b,{to:"/addUser"},"Add User")),l.a.createElement("li",null,l.a.createElement(Y.b,{to:"/addDebt"},"Add Debt")),l.a.createElement("li",null,l.a.createElement(Y.b,{to:"/displayDebts"},"Display Debts")),l.a.createElement("li",null,l.a.createElement(Y.b,{to:"/displayUsers"},"Display Users")),l.a.createElement("li",null,l.a.createElement(Y.b,{to:"/manageData"},"Manage Data"))),l.a.createElement(J.a,{path:"/addUser",component:M}),l.a.createElement(J.a,{path:"/addDebt",component:L}),l.a.createElement(J.a,{path:"/displayDebts",component:A}),l.a.createElement(J.a,{path:"/displayUsers",component:F}),l.a.createElement(J.a,{path:"/manageData",component:H}))))}}]),t}(l.a.Component),W=a(19),q=a(16),z=a(18),G=a(3);var K=function(e,t){switch(t.type){case O:return Object(G.a)({},e,{debtList:[].concat(Object(z.a)(e.debtList),[t.payload.key]),debtMap:Object(G.a)({},e.debtMap,Object(q.a)({},t.payload.key,{debts:t.payload.debts}))});case f:var a=t.payload.userIDOne+t.payload.userIDTwo;return Object(G.a)({},e,{debtMap:Object(G.a)({},e.debtMap,Object(q.a)({},a,{debts:[].concat(Object(z.a)(e.debtMap[a].debts.slice(0,t.payload.index)),Object(z.a)(e.debtMap[a].debts.slice(t.payload.index+1)))}))});case D:var n={};return e.emails.forEach(function(a){a!==t.payload.email&&(n[a]=e.users[a])}),Object(G.a)({},e,{emails:e.emails.filter(function(e){return e!==t.payload.email}),users:n});case h:var l=t.payload.userIDOne+t.payload.userIDTwo,r={};return e.debtList.forEach(function(t){t!==l&&(r[t]=e.debtMap[t])}),Object(G.a)({},e,{debtList:e.debtList.filter(function(e){return e!==l}),debtMap:r});case E:return{emails:[],users:{},debtMap:{},debtList:[]};case b:return Object(G.a)({},e,{emails:[].concat(Object(z.a)(e.emails),[t.email]),users:Object(G.a)({},e.users,Object(q.a)({},t.email,t.payload))});case p:var s=t.payload.userIDOne+t.payload.userIDTwo;return C(e.debtList,t.payload.userIDOne,t.payload.userIDTwo)?Object(G.a)({},e,{debtMap:Object(G.a)({},e.debtMap,Object(q.a)({},s,{debts:[].concat(Object(z.a)(e.debtMap[s].debts),[t.payload])}))}):Object(G.a)({},e,{debtList:[].concat(Object(z.a)(e.debtList),[s]),debtMap:Object(G.a)({},e.debtMap,Object(q.a)({},s,{debts:[t.payload]}))});default:return e}},Q=a(34),V=a(24),X=a.n(V),Z={emails:{name:"HMDIOY_EMAILS"},users:{name:"HMDIOY_USERS"},debtMap:{name:"HMDIOY_DEBTMAP"},debtList:{name:"HMDIOY_DEBTLIST"}},$=Object(V.getStateFromCookies)({emails:[],users:{},debtMap:{},debtList:[]},Z);$.emails||($.emails=[]),$.users||($.users={}),$.debtMap||($.debtMap={}),$.debtList||($.debtList=[]);var ee=Object(W.createStore)(K,$,Object(Q.composeWithDevTools)(Object(W.applyMiddleware)(X()(Z))));s.a.render(l.a.createElement(T.a,{store:ee},l.a.createElement(P,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.d812cf49.chunk.js.map