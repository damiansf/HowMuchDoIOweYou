(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(31)},31:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"addUser",function(){return N}),a.d(n,"addDebt",function(){return g});var s=a(0),i=a.n(s),l=a(12),r=a.n(l),u=a(3),o=a(4),m=a(6),c=a(5),d=a(7),h=a(1),b=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).state={firstName:"",lastName:"",email:""},e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleFirstName=e.handleFirstName.bind(Object(h.a)(e)),e.handleLastName=e.handleLastName.bind(Object(h.a)(e)),e.handleEmail=e.handleEmail.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleSubmit",value:function(e){var t={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email};this.props.addUser(t),alert("User added")}},{key:"handleFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"render",value:function(){return i.a.createElement("form",null,i.a.createElement("label",null,"FirstName:",i.a.createElement("input",{type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleFirstName})),i.a.createElement("label",null,"LastName:",i.a.createElement("input",{type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleLastName})),i.a.createElement("label",null,"Email:",i.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleEmail})),i.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit}))}}]),t}(i.a.Component),p=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).state={amount:"",notes:"",emailOne:"",emailTwo:"",identifiers:[]},e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleAmount=e.handleAmount.bind(Object(h.a)(e)),e.handleOwnerEmail=e.handleOwnerEmail.bind(Object(h.a)(e)),e.handleSlaveEmail=e.handleSlaveEmail.bind(Object(h.a)(e)),e.handleNotes=e.handleNotes.bind(Object(h.a)(e)),e.getIdentifier=e.getIdentifier.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getIdentifier",value:function(e){var t=this.props.users[e];return t.firstName+" "+t.lastName+" ("+e+")"}},{key:"handleAmount",value:function(e){isNaN(e.target.value)||this.setState({amount:e.target.value})}},{key:"handleNotes",value:function(e){this.setState({notes:e.target.value})}},{key:"handleOwnerEmail",value:function(e){this.setState({emailOne:e.target.value})}},{key:"handleSlaveEmail",value:function(e){this.setState({emailTwo:e.target.value})}},{key:"handleSubmit",value:function(e){var t={userOne:this.state.emailOne?this.state.emailOne:this.props.emails[0],userTwo:this.state.emailTwo?this.state.emailTwo:this.props.emails[0],amount:this.state.amount,notes:this.state.notes};this.props.addDebt(t),alert("User Debt added")}},{key:"render",value:function(){var e=this;return i.a.createElement("form",null,i.a.createElement("select",{onChange:this.handleOwnerEmail},this.props.emails.map(function(t,a){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("select",{onChange:this.handleSlaveEmail},this.props.emails.map(function(t,a){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("label",null,"Amount:",i.a.createElement("input",{type:"text",name:"amount",value:this.state.amount,onChange:this.handleAmount})),i.a.createElement("label",null,"Notes:",i.a.createElement("input",{type:"text",name:"notes",value:this.state.notes,onChange:this.handleNotes})),i.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit}))}}]),t}(i.a.Component),v=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(c.a)(t).call(this))).state={data:""},e.loadDebtMap=e.loadDebtMap.bind(Object(h.a)(e)),e.getIdentifier=e.getIdentifier.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"loadDebtMap",value:function(e){var t=this,a="";this.props.emails.forEach(function(n){e.target.value.localeCompare(n)<0?t.props.debtList.includes(e.target.value+n)&&(a+=JSON.stringify(t.props.debtMap[e.target.value+n])):t.props.debtList.includes(n+e.target.value)&&(a+=JSON.stringify(t.props.debtMap[n+e.target.value]))}),this.setState({data:a})}},{key:"getIdentifier",value:function(e){var t=this.props.users[e];return t.firstName+" "+t.lastName+" ("+e+")"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("select",{onChange:this.loadDebtMap},i.a.createElement("option",null,"--"),this.props.emails.map(function(t){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("div",null,this.state.data))}}]),t}(i.a.Component),O=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("p",null,"How Much Do I Owe You?")),i.a.createElement(b,{addUser:this.props.addUser}),i.a.createElement(p,{addDebt:this.props.addDebt,emails:this.props.emails,users:this.props.users}),i.a.createElement(v,{emails:this.props.emails,users:this.props.users,debtMap:this.props.debtMap,debtList:this.props.debtList}))}}]),t}(i.a.Component),f=a(8),j=a(13),E="ADD_USER",y="ADD_DEBT";function N(e){return{type:E,payload:{firstName:e.firstName,lastName:e.lastName,email:e.email},email:e.email}}function g(e){var t="",a="";return console.log(e),e.userOne.localeCompare(e.userTwo)<0?(t=e.userOne,a=e.userTwo):(t=e.userTwo,a=e.userOne),{type:y,payload:{userIDOne:t,userIDTwo:a,amount:e.amount,notes:e.notes}}}var S=Object(j.b)(function(e){return{emails:e.emails,users:e.users,debtList:e.debtList,debtMap:e.debtMap}},function(e){return Object(f.bindActionCreators)(n,e)})(O),w=a(11),k=a(14),D=a(10);var C={emails:[],users:{},debtMap:{},debtList:[]};var I=function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case E:return Object(D.a)({},n,{emails:[].concat(Object(k.a)(n.emails),[s.email]),users:Object(D.a)({},n.users,Object(w.a)({},s.email,s.payload))});case y:var i=s.payload.userIDOne+s.payload.userIDTwo;return e=n.debtList,t=s.payload.userIDOne,a=s.payload.userIDTwo,e.includes(t+a)?Object(D.a)({},n,{debtMap:Object(D.a)({},n.debtMap,Object(w.a)({},i,{debts:[].concat(Object(k.a)(n.debtMap[i].debts),[s.payload])}))}):Object(D.a)({},n,{debtList:[].concat(Object(k.a)(n.debtList),[i]),debtMap:Object(D.a)({},n.debtMap,Object(w.a)({},i,{debts:[s.payload]}))});default:return n}},M=a(21),L=Object(f.createStore)(I,Object(M.composeWithDevTools)());r.a.render(i.a.createElement(j.a,{store:L},i.a.createElement(S,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.0d15647a.chunk.js.map