(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"addUser",function(){return S}),a.d(n,"addDebt",function(){return D});var l=a(0),i=a.n(l),s=a(12),r=a.n(s),u=a(2),m=a(3),o=a(5),c=a(4),d=a(6),h=a(1),b=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={firstName:"",lastName:"",email:""},e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleFirstName=e.handleFirstName.bind(Object(h.a)(e)),e.handleLastName=e.handleLastName.bind(Object(h.a)(e)),e.handleEmail=e.handleEmail.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleSubmit",value:function(e){var t={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email};this.props.emails.includes(this.state.email)?alert("User with same email already exists"):(this.props.addUser(t),alert("User added"))}},{key:"handleFirstName",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleLastName",value:function(e){this.setState({lastName:e.target.value})}},{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"render",value:function(){return i.a.createElement("form",null,i.a.createElement("label",null,"FirstName:",i.a.createElement("input",{type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleFirstName})),i.a.createElement("label",null,"LastName:",i.a.createElement("input",{type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleLastName})),i.a.createElement("label",null,"Email:",i.a.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleEmail})),i.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit}))}}]),t}(i.a.Component),p=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={amount:"",notes:"",emailOne:"",emailTwo:"",identifiers:[]},e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleAmount=e.handleAmount.bind(Object(h.a)(e)),e.handleOwnerEmail=e.handleOwnerEmail.bind(Object(h.a)(e)),e.handleSlaveEmail=e.handleSlaveEmail.bind(Object(h.a)(e)),e.handleNotes=e.handleNotes.bind(Object(h.a)(e)),e.getIdentifier=e.getIdentifier.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"getIdentifier",value:function(e){var t=this.props.users[e];return t.firstName+" "+t.lastName+" ("+e+")"}},{key:"handleAmount",value:function(e){isNaN(e.target.value)||this.setState({amount:e.target.value})}},{key:"handleNotes",value:function(e){this.setState({notes:e.target.value})}},{key:"handleOwnerEmail",value:function(e){this.setState({emailOne:e.target.value})}},{key:"handleSlaveEmail",value:function(e){this.setState({emailTwo:e.target.value})}},{key:"handleSubmit",value:function(e){var t={userOne:this.state.emailOne?this.state.emailOne:this.props.emails[0],userTwo:this.state.emailTwo?this.state.emailTwo:this.props.emails[0],amount:this.state.amount,notes:this.state.notes};this.props.addDebt(t),alert("User Debt added")}},{key:"render",value:function(){var e=this;return i.a.createElement("form",null,i.a.createElement("span",null,"owner"),i.a.createElement("select",{onChange:this.handleOwnerEmail},this.props.emails.map(function(t,a){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("span",null,"slave"),i.a.createElement("select",{onChange:this.handleSlaveEmail},this.props.emails.map(function(t,a){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("label",null,"Amount:",i.a.createElement("input",{type:"text",name:"amount",value:this.state.amount,onChange:this.handleAmount})),i.a.createElement("label",null,"Notes:",i.a.createElement("input",{type:"text",name:"notes",value:this.state.notes,onChange:this.handleNotes})),i.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit}))}}]),t}(i.a.Component),O=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={data:null,emailOne:"",emailTwo:"",amount:0},e.getIdentifier=e.getIdentifier.bind(Object(h.a)(e)),e.handleOwnerEmail=e.handleOwnerEmail.bind(Object(h.a)(e)),e.handleSlaveEmail=e.handleSlaveEmail.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleOwnerEmail",value:function(e){this.setState({emailOne:e.target.value})}},{key:"handleSlaveEmail",value:function(e){this.setState({emailTwo:e.target.value})}},{key:"handleSubmit",value:function(){var e,t=0;this.state.emailOne.localeCompare(this.state.emailTwo)<0?this.props.debtList.includes(this.state.emailOne+this.state.emailTwo)&&(e=this.buildTableBody(this.props.debtMap[this.state.emailOne+this.state.emailTwo],-1),this.props.debtMap[this.state.emailOne+this.state.emailTwo].debts.map(function(e,a){t+=-1*e.amount})):this.props.debtList.includes(this.state.emailTwo+this.state.emailOne)&&(e=this.buildTableBody(this.props.debtMap[this.state.emailTwo+this.state.emailOne],1),this.props.debtMap[this.state.emailTwo+this.state.emailOne].debts.map(function(e,a){t+=e.amount})),this.setState({data:e,amount:t})}},{key:"buildTableBody",value:function(e,t){return console.log(e),1===t?e.debts.map(function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.userIDOne),i.a.createElement("td",null,e.userIDTwo),i.a.createElement("td",null,e.amount),i.a.createElement("td",null,e.notes),i.a.createElement("td",null,i.a.createElement("button",null)))}):e.debts.map(function(e,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,e.userIDTwo),i.a.createElement("td",null,e.userIDOne),i.a.createElement("td",null,e.amount*t),i.a.createElement("td",null,e.notes),i.a.createElement("td",null,i.a.createElement("button",null)))})}},{key:"getIdentifier",value:function(e){var t=this.props.users[e];return t.firstName+" "+t.lastName+" ("+e+")"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement("span",null,"slave"),i.a.createElement("select",{onChange:this.handleSlaveEmail},i.a.createElement("option",null,"--"),this.props.emails.map(function(t){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("span",null,"owner"),i.a.createElement("select",{onChange:this.handleOwnerEmail},i.a.createElement("option",null,"--"),this.props.emails.map(function(t){return i.a.createElement("option",{key:t,value:t},e.getIdentifier(t))})),i.a.createElement("input",{type:"button",value:"Submit",onClick:this.handleSubmit})),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"User One"),i.a.createElement("th",null,"User Two"),i.a.createElement("th",null,"Amount"),i.a.createElement("th",null,"Notes"),i.a.createElement("th",null,"Delete Debt"))),i.a.createElement("tbody",null,this.state.data)),i.a.createElement("div",null,i.a.createElement("span",null,this.state.emailTwo+" Owes "+this.state.emailOne+this.state.amount)))}}]),t}(i.a.Component),E=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={},e.downloadData=e.downloadData.bind(Object(h.a)(e)),e.uploadData=e.uploadData.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"downloadData",value:function(){}},{key:"uploadData",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("input",{type:"button",value:"Upload Data",onClick:this.uploadData}),i.a.createElement("input",{type:"button",value:"Download Data",onClick:this.downloadData}))}}]),t}(i.a.Component),v=function(e){function t(){return Object(u.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("p",null,"How Much Do I Owe You?")),i.a.createElement(b,{addUser:this.props.addUser,emails:this.props.emails}),i.a.createElement(p,{addDebt:this.props.addDebt,emails:this.props.emails,users:this.props.users}),i.a.createElement(O,{emails:this.props.emails,users:this.props.users,debtMap:this.props.debtMap,debtList:this.props.debtList}),i.a.createElement(E,{resetStore:this.props.resetStore}))}}]),t}(i.a.Component),f=a(8),j=a(14),y="ADD_USER",w="ADD_DEBT";function S(e){return{type:y,payload:{firstName:e.firstName,lastName:e.lastName,email:e.email},email:e.email}}function D(e){var t="",a="",n=1;return e.userOne.localeCompare(e.userTwo)<0?(t=e.userOne,a=e.userTwo,n=-1):(t=e.userTwo,a=e.userOne),{type:w,payload:{userIDOne:t,userIDTwo:a,amount:e.amount*n,notes:e.notes}}}var N=Object(j.b)(function(e){return{emails:e.emails,users:e.users,debtList:e.debtList,debtMap:e.debtMap}},function(e){return Object(f.bindActionCreators)(n,e)})(v),k=a(11),g=a(15),T=a(10);var I=function(e,t){switch(t.type){case y:return Object(T.a)({},e,{emails:[].concat(Object(g.a)(e.emails),[t.email]),users:Object(T.a)({},e.users,Object(k.a)({},t.email,t.payload))});case w:var a=t.payload.userIDOne+t.payload.userIDTwo;return n=e.debtList,l=t.payload.userIDOne,i=t.payload.userIDTwo,n.includes(l+i)?Object(T.a)({},e,{debtMap:Object(T.a)({},e.debtMap,Object(k.a)({},a,{debts:[].concat(Object(g.a)(e.debtMap[a].debts),[t.payload])}))}):Object(T.a)({},e,{debtList:[].concat(Object(g.a)(e.debtList),[a]),debtMap:Object(T.a)({},e.debtMap,Object(k.a)({},a,{debts:[t.payload]}))});default:return e}var n,l,i},M=a(23),C=a(13),L=a.n(C),A={emails:{name:"HMDIOY_EMAILS"},users:{name:"HMDIOY_USERS"},debtMap:{name:"HMDIOY_DEBTMAP"},debtList:{name:"HMDIOY_DEBTLIST"}},U=Object(C.getStateFromCookies)({emails:[],users:{},debtMap:{},debtList:[]},A);U.emails||(U.emails=[]),U.users||(U.users={}),U.debtMap||(U.debtMap={}),U.debtList||(U.debtList=[]);var x=Object(f.createStore)(I,U,Object(M.composeWithDevTools)(Object(f.applyMiddleware)(L()(A))));r.a.render(i.a.createElement(j.a,{store:x},i.a.createElement(N,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.9eff4066.chunk.js.map